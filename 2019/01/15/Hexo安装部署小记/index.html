<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Hexo安装部署小记 | LODY</title>

  
  <meta name="author" content="lody">
  

  
  <meta name="description" content="Alone Is Free">
  

  
  
  <meta name="keywords" content="Hexo,安装,部署">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Hexo安装部署小记">

  <meta property="og:site_name" content="LODY">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="LODY" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">LODY</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Hexo安装部署小记</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/01/15/Hexo安装部署小记/" rel="bookmark">
        <time class="entry-date published" datetime="2019-01-15T12:20:36.000Z">
          2019-01-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><img src="https://b-1258498546.cos.ap-chengdu.myqcloud.com/71229932small.png" alt></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>抛弃付费空间和域名转到免费代码托管空间 (<del>白嫖</del>)<br>环境：<code>Windows 10 64-bit</code> 教育版 <code>v1803</code></p>
<a id="more"></a>
<h1 id="安装Node-js和Git"><a href="#安装Node-js和Git" class="headerlink" title="安装Node.js和Git"></a>安装Node.js和Git</h1><h2 id="Node-js下载安装"><a href="#Node-js下载安装" class="headerlink" title="Node.js下载安装"></a>Node.js下载安装</h2><p>官网下载：<a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">打开下载地址</a></p>
<blockquote>
<p>(LTS) 长期支持版 推荐多数用户使用<br>(Current) 当前发布版 含最新功能</p>
</blockquote>
<p>安装LTS window 64-bit版本就可以了</p>
<h2 id="Git下载安装"><a href="#Git下载安装" class="headerlink" title="Git下载安装"></a>Git下载安装</h2><p>官网下载：<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">打开下载地址</a></p>
<p>同样安装windows版本即可</p>
<h1 id="建立Github项目"><a href="#建立Github项目" class="headerlink" title="建立Github项目"></a>建立Github项目</h1><h2 id="注册帐号"><a href="#注册帐号" class="headerlink" title="注册帐号"></a>注册帐号</h2><p><a href="https://github.com" target="_blank" rel="noopener">https://github.com</a></p>
<h2 id="新建项目-repository"><a href="#新建项目-repository" class="headerlink" title="新建项目(repository)"></a>新建项目(repository)</h2><ul>
<li>repository name：<code>用户名.github.io</code></li>
<li>默认勾选公有项目：<code>Public</code></li>
<li>勾选下方初始化 with Readme</li>
</ul>
<blockquote>
<p> mmp 因为私有项目无法启用Gitpage</p>
</blockquote>
<h1 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h1><h2 id="创建安装位置"><a href="#创建安装位置" class="headerlink" title="创建安装位置"></a>创建安装位置</h2><p>例如放在D盘:在D盘新建文件夹取名<code>Hexo</code></p>
<blockquote>
<p>这个安装位置就是本地Hexo目录 这里就是D:\Hexo</p>
</blockquote>
<h2 id="安装Hexo-1"><a href="#安装Hexo-1" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><ol>
<li>进入Hexo文件夹 右键Git Bash Here进入git终端</li>
<li>输入npm install hexo -g，开始安装Hexo</li>
<li>输入hexo -v，检查hexo是否安装成功</li>
<li>输入hexo init，初始化该文件夹</li>
<li>输入npm install，安装所需要的组件</li>
<li>输入hexo g，首次生成Hexo</li>
<li>输入hexo s，开启服务器，默认是:<code>http://localhost:4000</code> 访问该网址，正式体验Hexo</li>
</ol>
<h1 id="本地Hexo部署到Github"><a href="#本地Hexo部署到Github" class="headerlink" title="本地Hexo部署到Github"></a>本地Hexo部署到Github</h1><h2 id="首次使用需要设置Git的user-name和email"><a href="#首次使用需要设置Git的user-name和email" class="headerlink" title="首次使用需要设置Git的user name和email"></a>首次使用需要设置Git的user name和email</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;填用户名&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;填邮箱&quot;</span><br></pre></td></tr></table></figure>
<h2 id="生成SSH密钥"><a href="#生成SSH密钥" class="headerlink" title="生成SSH密钥"></a>生成SSH密钥</h2><p>参考官方说明：<a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/" target="_blank" rel="noopener">https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/</a></p>
<p>Open Git Bash.</p>
<p>Paste the text below, substituting in your GitHub email address.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure>
<p>This creates a new ssh key, using the provided email as a label.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br></pre></td></tr></table></figure></p>
<p>When you’re prompted to “Enter a file in which to save the key,” press Enter. This accepts the default file location.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter a file in which to save the key (/c/Users/you/.ssh/id_rsa):[Press enter]</span><br></pre></td></tr></table></figure></p>
<p>At the prompt, type a secure passphrase. For more information, see “Working with SSH key passphrases”.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase): [Type a passphrase]</span><br><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入eval &quot;$(ssh-agent -s)&quot;，添加密钥到ssh-agent</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">再输入ssh-add ~/.ssh/id_rsa，添加生成的SSH key到ssh-agent</span><br></pre></td></tr></table></figure>
<h2 id="Github添加ssh"><a href="#Github添加ssh" class="headerlink" title="Github添加ssh"></a>Github添加ssh</h2><ol>
<li>登录Github，点击头像下的settings，添加ssh</li>
<li>新建一个new ssh key，将<code>id_rsa.pub</code>(在用户文件夹的<code>.ssh文件夹</code>)文件里的内容复制上去</li>
<li>输入ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>，测试添加ssh是否成功。如果看到Hi后面是你的用户名，就说明成功了</li>
</ol>
<blockquote>
<p>问题：假如ssh-key配置失败，那么只要以下步骤就能完全解决</p>
</blockquote>
<p>首先，清除所有的key-pair<br>ssh-add -D<br>rm -r ~/.ssh<br>删除你在github中的public-key</p>
<p>重新生成ssh密钥对<br>ssh-keygen -t rsa -C “<a href="mailto:xxx@xxx.com" target="_blank" rel="noopener">xxx@xxx.com</a>“</p>
<p>接下来正常操作<br>在github上添加公钥public-key:<br>1、首先在你的终端运行 xclip -sel c ~/.ssh/id_rsa.pub将公钥内容复制到剪切板<br>2、在github上添加公钥时，直接复制即可<br>3、保存</p>
<p>测试：<br>在终端 ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a></p>
<h2 id="编辑Hexo站点配置"><a href="#编辑Hexo站点配置" class="headerlink" title="编辑Hexo站点配置"></a>编辑Hexo站点配置</h2><p>配置Deployment，在其文件夹中，找到<code>_config.yml</code>文件，修改repo值（在末尾）</p>
<p>repo值是你在github项目里的ssh（右下角）</p>
<h2 id="安装部署扩展"><a href="#安装部署扩展" class="headerlink" title="安装部署扩展"></a>安装部署扩展</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h2 id="写一篇文章并部署"><a href="#写一篇文章并部署" class="headerlink" title="写一篇文章并部署"></a>写一篇文章并部署</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;你好&quot;</span><br></pre></td></tr></table></figure>
<p>生成的md在<code>source\_posts</code>文件夹<br>写完毕就可以部署了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></p>
<p>由于没设密码第一次会提示 直接yes一路回车.</p>
<blockquote>
<p>以上<br>小记小记…摸鱼一笔带过qwq</p>
</blockquote>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/笔记/">笔记</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Hexo/">Hexo</a><a href="/tags/安装/">安装</a><a href="/tags/部署/">部署</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Life like binary , either 1 or 0
    <br>
    
    &copy; 2019 lody
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>