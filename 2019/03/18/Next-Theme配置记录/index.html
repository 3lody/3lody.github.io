<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Next-Theme配置记录 | LODY</title>

  
  <meta name="author" content="lody">
  

  
  <meta name="description" content="Alone Is Free">
  

  
  
  <meta name="keywords" content="笔记,next">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Next-Theme配置记录">

  <meta property="og:site_name" content="LODY">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="LODY" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">LODY</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Next-Theme配置记录</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/03/18/Next-Theme配置记录/" rel="bookmark">
        <time class="entry-date published" datetime="2019-03-18T07:27:17.000Z">
          2019-03-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>第n次部署hexo<br>这次不折腾了。实在是没时间了。<br>好好码字学习www<br><a id="more"></a></p>
<h1 id="记录"><a href="#记录" class="headerlink" title="记录"></a>记录</h1><h2 id="启用next"><a href="#启用next" class="headerlink" title="启用next"></a>启用next</h2><p>站点配置文件：_config.yml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure>
<h2 id="更改配置"><a href="#更改配置" class="headerlink" title="更改配置"></a>更改配置</h2><p>主题配置文件：/next/_config.yml</p>
<h3 id="双子座-样式"><a href="#双子座-样式" class="headerlink" title="双子座-样式"></a>双子座-样式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure>
<h3 id="创建菜单页面"><a href="#创建菜单页面" class="headerlink" title="创建菜单页面"></a>创建菜单页面</h3><p>取消相应注释<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br></pre></td></tr></table></figure></p>
<p>以<code>关于</code>为例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo new page &quot;about&quot;</span><br></pre></td></tr></table></figure>
<p>编辑<code>/home/lody/blog/source/about/index.md</code><br>添加<code>type</code>属性为<code>“about”</code><br><code>comments</code>属性不做要求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: about</span><br><span class="line">date: 2019-03-18 15:16:25</span><br><span class="line">type: &quot;about&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">××××××××这里写关于的啥啥内容××××××××</span><br></pre></td></tr></table></figure>
<h3 id="隐藏底部版本信息"><a href="#隐藏底部版本信息" class="headerlink" title="隐藏底部版本信息"></a>隐藏底部版本信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">powered:</span><br><span class="line">  enable: false</span><br><span class="line">theme:</span><br><span class="line">  enable: false</span><br></pre></td></tr></table></figure>
<h3 id="开启社交链接"><a href="#开启社交链接" class="headerlink" title="开启社交链接"></a>开启社交链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/yourname || github</span><br><span class="line">  E-Mail: mailto:yourname@gmail.com || envelope</span><br><span class="line">  Weibo: https://weibo.com/yourname || weibo</span><br><span class="line">  Twitter: https://twitter.com/yourname || twitter</span><br><span class="line">  YouTube: https://youtube.com/yourname || youtube</span><br><span class="line">  Instagram: https://instagram.com/yourname || instagram</span><br></pre></td></tr></table></figure>
<h3 id="头像设置"><a href="#头像设置" class="headerlink" title="头像设置"></a>头像设置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  url: https://b-1258498546.cos.ap-chengdu.myqcloud.com/Picbedavatar.gif</span><br></pre></td></tr></table></figure>
<h3 id="关闭文章修改时间显示"><a href="#关闭文章修改时间显示" class="headerlink" title="关闭文章修改时间显示"></a>关闭文章修改时间显示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  updated_at:</span><br><span class="line">    enable: false</span><br></pre></td></tr></table></figure>
<h3 id="开启打赏"><a href="#开启打赏" class="headerlink" title="开启打赏"></a>开启打赏</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reward_settings:</span><br><span class="line">  enable: true</span><br><span class="line">  comment: 给作者打赏(｡･ω･｡)</span><br><span class="line">reward:</span><br><span class="line">  wechatpay: /images/wechatpay.png</span><br><span class="line">  alipay: /images/alipay.png</span><br></pre></td></tr></table></figure>
<h3 id="卜算子计数-（弃用）"><a href="#卜算子计数-（弃用）" class="headerlink" title="卜算子计数-（弃用）"></a>卜算子计数-（弃用）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<h3 id="首页显示文本摘要而不是全文"><a href="#首页显示文本摘要而不是全文" class="headerlink" title="首页显示文本摘要而不是全文"></a>首页显示文本摘要而不是全文</h3><p><code>如果不设置的话 在文章中使用 &lt;!-- more --&gt; 来自定义从哪里开始截断</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">excerpt_description: true  #默认不动</span><br><span class="line">auto_excerpt:</span><br><span class="line">  enable: true</span><br><span class="line">  length: 150</span><br></pre></td></tr></table></figure>
<h3 id="实现文章字数统计和预计阅读时间"><a href="#实现文章字数统计和预计阅读时间" class="headerlink" title="实现文章字数统计和预计阅读时间"></a>实现文章字数统计和预计阅读时间</h3><p>（symbols_count_time）</p>
<ol>
<li>在站点根目录下使用命令安装 插件:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>在全局配置文件_config.yml中新增配置内容激活插件:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">    symbols: true</span><br><span class="line">    time: true</span><br><span class="line">    total_symbols: true</span><br><span class="line">    total_time: true</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题的配置文件_config.yml中查找进行如下配置:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#字数统计</span><br><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true</span><br><span class="line">  item_text_post: true</span><br><span class="line">  item_text_total: true</span><br><span class="line">  awl: 4</span><br><span class="line">  wpm: 275</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>这样就实现了文章字数统计和预估时间的显示功能</p>
<h3 id="添加友情链接"><a href="#添加友情链接" class="headerlink" title="添加友情链接"></a>添加友情链接</h3><p>以添加github官网(<a href="https://www.github.com)为友情链接为例" target="_blank" rel="noopener">https://www.github.com)为友情链接为例</a></p>
<p>编辑主题配置文件，添加修改如下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Blog rolls</span><br><span class="line">links_icon: link</span><br><span class="line">links_title: 友情链接</span><br><span class="line">links_layout: block</span><br><span class="line">#links_layout: inline</span><br><span class="line">links:</span><br><span class="line">  吾爱: https://www.52pojie.cn</span><br><span class="line">  吻妻: http://www.newxitong.com</span><br><span class="line">  素锦: https://isujin.com</span><br><span class="line">  屠城: https://www.haomwei.com</span><br></pre></td></tr></table></figure>
<h3 id="在文末添加”本文结束”"><a href="#在文末添加”本文结束”" class="headerlink" title="在文末添加”本文结束”"></a>在文末添加”本文结束”</h3><p>在 <code>\themes\next\layout\_macro</code> 新建 <code>passage-end-tag.swig</code> 文件</p>
<p>第一种：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #636363;font-size:14px;letter-spacing: 10px"</span>&gt;</span>本文结束啦<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-bell"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢您的阅读<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>第二种：自己的修改<br>size：字体大小 spaceing：文字间隔</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;</span></span></span><br><span class="line"><span class="tag"><span class="string">        color: #636363;</span></span></span><br><span class="line"><span class="tag"><span class="string">        font-size:26px;</span></span></span><br><span class="line"><span class="tag"><span class="string">        letter-spacing: 1px"</span>&gt;</span>- The End -<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>文件： <code>\themes\next\layout_macro\post.swig</code></p>
<p>找到post-body 并添加代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我加在了 ### END POST BODY  ### 的前面</p>
<p>最后在 主题配置文件 末尾添加：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 文本结束提示语</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure>
<h3 id="底部作者的图标改红色跳动爱心-强迫症修改"><a href="#底部作者的图标改红色跳动爱心-强迫症修改" class="headerlink" title="底部作者的图标改红色跳动爱心-强迫症修改"></a>底部作者的图标改红色跳动爱心-强迫症修改</h3><p>直接找到主题配置字段footer：</p>
<p><code>since 201x</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">icon：</span><br><span class="line">    name: heart  //图标的名字 font awesome的</span><br><span class="line">    animated: true  //是否开启图标跳动的动画</span><br><span class="line">    color: &quot;#ff0000&quot; //图标的颜色</span><br></pre></td></tr></table></figure>
<h3 id="关掉阅读更多自动跳转到摘要下面"><a href="#关掉阅读更多自动跳转到摘要下面" class="headerlink" title="关掉阅读更多自动跳转到摘要下面"></a>关掉<code>阅读更多</code>自动跳转到摘要下面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scroll_to_more: false</span><br></pre></td></tr></table></figure>
<h3 id="跳过README-md渲染"><a href="#跳过README-md渲染" class="headerlink" title="跳过README.md渲染"></a>跳过README.md渲染</h3><p>在source根目录下添加<code>README.md</code>，再修改hexo的站点配置文件_config.yml，<br>设置<code>skip_render: README.md</code>保存退出即可。<br>使用<code>hexo d</code>命令就不会在渲染README.md这个文件了。</p>
<h3 id="添加文末版权"><a href="#添加文末版权" class="headerlink" title="添加文末版权"></a>添加文末版权</h3><p>直接主题字段<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">creative_commons:</span><br><span class="line">  license: by-nc-sa</span><br><span class="line">  sidebar: false</span><br><span class="line">  post: true</span><br></pre></td></tr></table></figure></p>
<h3 id="添加复制代码的功能"><a href="#添加复制代码的功能" class="headerlink" title="添加复制代码的功能"></a>添加复制代码的功能</h3><p>主题设置里边找到：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Add copy button on codeblock</span><br><span class="line">copy_button:</span><br><span class="line">    enable: true</span><br><span class="line">    # Show text copy result</span><br><span class="line">    show_result: true</span><br></pre></td></tr></table></figure></p>
<p>这里，启用并且启用复制结果。</p>
<h2 id="一些用到的插件"><a href="#一些用到的插件" class="headerlink" title="一些用到的插件"></a>一些用到的插件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br><span class="line"></span><br><span class="line">npm install --save hexo-tag-dplayer</span><br></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/笔记/">笔记</a><a href="/tags/next/">next</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Life like binary , either 1 or 0
    <br>
    
    &copy; 2019 lody
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>